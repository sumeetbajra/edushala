var chai = require('chai');
var rs = require('../index');
var should = chai.should();
var assert = chai.assert;
var faker = require('faker');

describe('util', function () {
    describe('apply', function () {
        var result = rs.util.apply({ a: 1, b: 2, c: 'baal' }, { b: 3, d: 'cool' });
        var expected = { a: 1, b: 3, c: 'baal', d: 'cool' };
        it('should apply (merge) right object with left', function (done) {
            result.should.be.a('object');
            result.should.eql(expected);
            done()
        })
    });
    describe('hash', function () {
        it('should return valid sha256 hash', function (done) {
            var result = rs.util.hash(faker.name.findName(), 'sha256');
            result.should.be.a('string');
            result.should.have.length(64);
            done()
        });
        it('should return hash of text "santosh"', function (done) {
            var result = rs.util.hash('santosh');
            var expected = 'd607d56da2d92587c77679e969905bc1ce6a0d3100ba4b0cfae6d5f96d23938326b9b650268b1b01b15b911b7033682d0582a124843026ebe4a0d7d966a451f2';
            result.should.equal(expected);
            done()
        });
    });
});