var rs = require('../misc/rs');
var db = null;

var role = rs.classy.define({
    forceInstance: true,
    init: function (ctx) {
        this.context = ctx;
        db = ctx.db;
    },
    list: function (c) {
        return db.execute({
            procedure: "rsa_roles_get",
            renderer: { permissions: 'json'},
            success: c.success,
            failure: c.failure
        });
    }
});

module.exports = role;