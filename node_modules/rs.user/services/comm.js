var rs = require('../misc/rs');
var db = null;

var service = rs.classy.define({
    forceInstance: true,
    init: function (ctx) {
        this.context = ctx;
        db = ctx.db;
    },
    add: function (c) {
        return db.execute({
            procedure: "rsu_comms_add",
            params: db.getParams(c.model),
            success: c.success,
            failure: c.failure
        });
    },
    list: function (c) {
        return db.execute({
            procedure: "rsu_comms_list",
            params: db.getParams(c.model),
            success: c.success,
            failure: c.failure
        });
    },
    remove: function (c) {
        return db.execute({
            procedure: "rsu_comms_remove",
            params: db.getParams(c.model),
            success: c.success,
            failure: c.failure
        });
    }
});

module.exports = service;